{% from 'round_macro.html' import render_round %}

{% macro render_matching(matching, score_dict, ui_utils, matching_index, selected_matching_index, compatible_blood_dict) %}
<a href="?matching_index={{matching_index}}"
   class="matching-item {% if matching_index == selected_matching_index %}active{% endif %}">
    <div class="matching-item__content">
        <div class="description">
            Score: <span class="inline_code">{{ matching.score() }}</span> |
            Rounds: <span class="inline_code">{{ matching.get_rounds() | length }}</span> |
            Transplants: <span class="inline_code">{{matching.donor_recipient_list | length}}</span>
        Bridging&nbspdonors: <span class="inline_code">{{matching.get_bridging_donor_count()}}</span>
        Altruists: <span class="inline_code">{{matching.get_altruist_count()}}</span>
        </div>

        {% for round in matching.get_rounds() %}
            {{ render_round(round, score_dict, ui_utils, loop.index, matching_index, compatible_blood_dict) }}
        {% endfor %}
    </div>

    <span class="matching-item__link">â–¶</span>
</a>

{% endmacro %}
