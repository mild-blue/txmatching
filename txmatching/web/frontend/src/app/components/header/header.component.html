<header>
  <div class="logo">
    <app-logo routerLink="/"></app-logo>
  </div>
  <div class="menu">
    <ul>
      <li>
        <a routerLink="/matchings" routerLinkActive="active">Matchings</a>
      </li>
      <li>
        <a routerLink="/patients" routerLinkActive="active">Patients</a>
      </li>
    </ul>
  </div>
  <div class="download"
       [class.hidden]="downloadStatus === downloadStatusOptions.hidden"
       [class.disabled]="downloadStatus === downloadStatusOptions.disabled">
    <button (click)="handleDownloadClick()">
      Generate PDF
      <mat-icon *ngIf="downloadStatus !== downloadStatusOptions.loading" [inline]="true">get_app</mat-icon>
      <mat-spinner *ngIf="downloadStatus === downloadStatusOptions.loading" diameter="16"></mat-spinner>
    </button>
  </div>
  <div class="icons">
    <div *ngIf="user" class="user">
      <button #userDropdownTrigger (click)="openDropdown(userDropdownId)">
        <fa-icon [icon]="userIcon"></fa-icon>
      </button>
      <app-dropdown (clickedOutside)="closeDropdown($event)"
                    [id]="userDropdownId"
                    [open]="userDropdownId === openedDropdownId"
                    [trigger]="userDropdownTrigger">
        <p>{{user.email}}</p>
        <app-button (click)="logOut()" size="sm">Log out</app-button>
      </app-dropdown>
    </div>
    <div class="info">
      <button #infoDropdownTrigger (click)="openDropdown(infoDropdownId)">
        <fa-icon [icon]="infoIcon"></fa-icon>
      </button>
      <app-dropdown (clickedOutside)="closeDropdown($event)"
                    [id]="infoDropdownId"
                    [open]="infoDropdownId === openedDropdownId"
                    [trigger]="infoDropdownTrigger">
        <p>Not working? Questions?<br>Call +420 723 927 536.</p>
        <div class="pdf-link">
          <a href="assets/algorithm_description.pdf" target="_blank">Algorithm description</a>
        </div>
      </app-dropdown>
    </div>
  </div>
</header>
